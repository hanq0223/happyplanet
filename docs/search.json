[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Happy Planet",
    "section": "",
    "text": "1 Introduction\nThe Happy Planet Index is a measure of sustainable well-being, evaluating countries by how efficiently they deliver long, happy lives for their residents using our limited environmental resources. HPI is designed to highlight the importance of sustainability and equity. It provides an approach to assess countries’ achievements by investigating factors that contribute to human well-being other than traditional economic indicators. By analyzing regions, population, life expectancy, carbon emission, and GDP, HPI highlights what truly matters to our well-being in terms of long, happy, and meaningful lives. Our project aims to uncover patterns and relationships between these variables, and help find a balance between well-being, resource consumption, and material circumstances. Through this analysis, we will share deeper insights for global happiness.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  data",
    "section": "",
<<<<<<< HEAD
    "text": "2.1 Technical Description\nThe data set selected is from the Happy Planet Index (HPI) provided by HotorCool, ranking countries based on their HPI score, using 2021 data with the latest rankings available for 2024. It includes columns HPI rank, Country, ISO, Continent, Population, Life Expectancy, Ladder of Life (Wellbeing), Carbon Footprint, CO2 threshold, GDP per capita, and HPI. Life Expectancy data is sourced from the UN Population Division’s World Population Prospects 2022, updated periodically based on demographic projections. Ladder of Life scores are collected annually by Gallup World Poll through surveys of around 1,000 individuals per country, asking respondents to rate their life satisfaction on a scale of 0 to 10, with results weighted to match national demographics. Carbon Footprint data is taken from the World Inequality Database, providing per capita estimates based on national accounts, and GDP per capita comes from global financial institutions like the World Bank. Some missing values are imputed using adjacent years, creating uncertainty, while survey sampling limitations and time lags in the 2024 rankings (based on 2021 data) may affect accuracy.\nThe data set is provided in a excel format. We save the data sheet as a csv file and import it using read_csv.",
=======
    "text": "2.1\n# 2.1\nThe data set selected is from the Happy Planet Index (HPI) provided by HotorCool. It contains rankings for countries from 2006-2021 based on data from the corresponding years. For year, the data set includes columns HPI rank, Country, ISO, Continent, Population, Life Expectancy, Ladder of Life (Wellbeing), Carbon Footprint, CO2 threshold, GDP per capita, and HPI. For the latest 2024 data set, Life Expectancy data is sourced from the UN Population Division’s World Population Prospects 2022, updated periodically based on demographic projections. Ladder of Life scores are collected annually by Gallup World Poll through surveys of around 1,000 individuals per country, asking respondents to rate their life satisfaction on a scale of 0 to 10, with results weighted to match national demographics. Carbon Footprint data is taken from the World Inequality Database, providing per capita estimates based on national accounts, and GDP per capita comes from global financial institutions like the World Bank. Some missing values are imputed using adjacent years, creating uncertainty, while survey sampling limitations and time lags in the 2024 rankings may affect accuracy.\nThe data set is provided in a excel format. We save the data sheet for each year as a csv file and integrate the data sets from 2006 to 2021 to one in R.\n# 2.2\nCode\nlibrary(readxl)\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\nlibrary(readr)\nlibrary(ggplot2)\nhpi &lt;- read_csv(\"data/hpi.csv\")\n\n\nNew names:\n• `...4` -&gt; `...14`\n\n\nRows: 2384 Columns: 14\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (4): Country, ISO, ...5, ...14\ndbl (10): ...1, HPI rank, Continent, Population (thousands), Life Expectancy...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\nCode\nhpi &lt;- hpi %&gt;% select(-`...5`, -`...14`, -`...1`)\nmissing_values &lt;- colSums(is.na(hpi))\nbar_plot &lt;- ggplot(data.frame(Column = names(missing_values), Missing = missing_values), \n                   aes(x = Column, y = Missing, fill = Column)) +\n  geom_bar(stat = \"identity\", color = \"black\") +\n  labs(title = \"Count of Missing Values per Column\", x = \"Columns\", y = \"Count of Missing Values\") +\n  theme_minimal() +\n  theme(legend.position = \"none\",\n        axis.text.x = element_text(angle = 45, hjust = 1)) + \n  scale_fill_brewer(palette = \"Set3\")\nbar_plot\nThe data does not exhibit any obvious missing values after we remove the three columns that are duplicate with country labels. However, as mentioned in the HPI 2024 methodology report, some missing values may have been imputed using data from adjacent years.\nCode\nhpi$IsMissing &lt;- ifelse(hpi$`Ladder of life (Wellbeing) (0-10)` == 0, \"0\", \"Other Values\")\n\nmissing_plot &lt;- ggplot(hpi, aes(x = IsMissing, fill = IsMissing)) + geom_bar(color = \"black\") + scale_fill_manual(values = c(\"0\" = \"pink\", \"Other Values\" = \"lightblue\")) + labs(title = \"Distribution of Value 0 vs Other Values\", x = \"Value Type\", y = \"Count\") + theme_minimal()\n\nprint(missing_plot)\nHowever, there are 0 values in the HPI scores and the Ladder of Life columns, which likely indicate missing data in the Ladder of Life scores. Given the calculation methodology for the HPI score, a 0 in the HPI score is caused by a 0 in the Ladder of Life column. To better understand the extent of missing data, we analyzed the number of 0 values in the Ladder of Life column and found that there are approximately 250 occurrences across the years. For the analysis, countries with 0 values may be excluded as they do not contribute meaningful information to the results.",
>>>>>>> 58df64aabbd27501d8e707824f4591e9b95a5007
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>data</span>"
    ]
  },
  {
<<<<<<< HEAD
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n\nCode\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(readr)\nlibrary(ggplot2)\nhpi_2024 &lt;- read_csv(\"All countries_20211.csv\", skip=8)\n\n\n\n\nCode\nmissing_values &lt;- colSums(is.na(hpi_2024))\nbar_plot &lt;- ggplot(data.frame(Column = names(missing_values), Missing = missing_values), \n                   aes(x = Column, y = Missing, fill = Column)) +\n  geom_bar(stat = \"identity\", color = \"black\") +\n  labs(title = \"Count of Missing Values per Column\", x = \"Columns\", y = \"Count of Missing Values\") +\n  theme_minimal() +\n  theme(legend.position = \"none\",\n        axis.text.x = element_text(angle = 45, hjust = 1)) + # Tilt x-axis labels\n  scale_fill_brewer(palette = \"Set3\")\nbar_plot\n\n\n\n\n\n\n\n\n\nThe data does not exhibit any obvious missing values. However, as mentioned in the HPI 2024 methodology report, some missing values may have been imputed using data from adjacent years.\n\n\nCode\nhpi_2024$IsMissing &lt;- ifelse(hpi_2024$`Ladder of life (Wellbeing) (0-10)` == 0, \"0\", \"Other Values\")\n\nmissing_plot &lt;- ggplot(hpi_2024, aes(x = IsMissing, fill = IsMissing)) + geom_bar(color = \"black\") + scale_fill_manual(values = c(\"Missing (0)\" = \"pink\", \"Other Values\" = \"lightblue\")) + labs(title = \"Distribution of Missing (0) vs Other Values\", x = \"Value Type\", y = \"Count\") + theme_minimal()\n\nprint(missing_plot)\n\n\n\n\n\n\n\n\n\nHowever, there are 0 values in the HPI scores and the Ladder of Life columns, which may indicate missing data in the Ladder of Life scores. Based on the calculation methodology for the HPI score, a 0 in the HPI score might be directly influenced by a 0 in the Ladder of Life column. Therefore, we analyze the number of 0 values in the Ladder of Life column to observe the potential missing values. We can see that there are only two 0 scores for Ladder of Life columns, which are for Sudan and Burundi.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "3.1 HPI through the years\nLet’s investigate how HPI varies across years. The plot below shows the HPI for top 20 countries from 2006 to 2021. It is noticeable that Costa Rica has the highest mean HPI, and Sweden has the highest HPI in 2021. Overall, Costa Rica shows obviously high happiness.\nCode\npast_HPI$Mean_HPI &lt;- rowMeans(past_HPI[, 2:17], na.rm = TRUE)\n\npast_HPI_long &lt;- past_HPI %&gt;%\n  pivot_longer(cols = `2006`:`2021`, names_to = \"Year\", values_to = \"HPI\") %&gt;%\n  mutate(Year = as.numeric(gsub(\"HPI_\", \"\", Year))) # Extract year from column names\n\ntop_countries &lt;- past_HPI %&gt;%\n  arrange(desc(Mean_HPI)) %&gt;%\n  head(20) %&gt;%\n  arrange(Mean_HPI)\n\npast_HPI_long &lt;- past_HPI_long %&gt;%\n  filter(Country %in% top_countries$Country)\n\n# Create the plot\nggplot(data = past_HPI_long, aes(x = HPI, y = reorder(Country, Mean_HPI))) +\n  # Historic scores (keep light gray as before)\n  geom_point(color = \"gray\", size = 1.5, alpha = 0.5) +\n  # Mean score (solid yellow, smaller size)\n  geom_point(data = top_countries, aes(x = Mean_HPI, y = reorder(Country, Mean_HPI)),\n             color = \"#33a02c\", size = 3, shape = 16) +\n  # 2021 score (solid blue, smaller size)\n  geom_point(data = filter(past_HPI_long, Year == 2021),\n             aes(x = HPI, y = Country), color = \"#4682B4\", size = 3, shape = 16) +\n  # Add dashed horizontal lines for countries\n  geom_hline(yintercept = seq_along(top_countries$Country), color = \"gray40\", linetype = \"dashed\", size = 0.2) +\n  # Titles and labels\n  labs(title = \"Happiness Index through the Years\",\n       subtitle = \"The happiness levels are largely consistnet across the countries.\\nCosta Rica's mean score is the highest, while Sweden's 2021 score is the highest.\",\n       x = \"Happiness Index\", y = NULL) +\n  # Theme adjustments\n  theme_minimal(base_family = \"sans\") +\n  theme(\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor = element_blank(),\n    axis.text.y = element_text(hjust = 1, color = \"gray40\"),\n    axis.title.x = element_text(hjust = 0, color = \"gray40\"),\n    plot.title = element_text(size = 17, face = \"bold\"),\n    plot.subtitle = element_text(size = 12, color = \"gray40\")\n  )+\n  annotate(\"text\", x = max(past_HPI_long$HPI, na.rm = TRUE), y = 1, \n           label = \"2021 score\", hjust = 1.5, size = 4, color = \"#4682B4\") +\n  annotate(\"text\", x = max(top_countries$Mean_HPI, na.rm = TRUE), y = 2, \n           label = \"Mean score\", hjust = 1.5, size = 4, color = \"#33a02c\")",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#overall-trend-from-2006-to-2021-for-all-countries",
    "href": "results.html#overall-trend-from-2006-to-2021-for-all-countries",
    "title": "3  Results",
    "section": "3.2 Overall trend from 2006 to 2021 for all countries",
    "text": "3.2 Overall trend from 2006 to 2021 for all countries\nTo further learn the pattern of HPI from 2006 to 2021, we take all countries in account instead of only the top 20 ones. We pick year 2006, 2011, 2016, and 2021 for comparison.\n\n\nCode\nhpi_2006_hist &lt;- hpi_2006 %&gt;% \n  mutate(Year = 2006) %&gt;% \n  filter(HPI &gt; 0)  \n\nhpi_2011_hist &lt;- hpi_2011 %&gt;% \n  mutate(Year = 2011) %&gt;% \n  filter(HPI &gt; 0) \n\nhpi_2016_hist &lt;- hpi_2016 %&gt;% \n  mutate(Year = 2016) %&gt;% \n  filter(HPI &gt; 0) \n\nhpi_2021_hist &lt;- hpi_2021 %&gt;% \n  mutate(Year = 2021) %&gt;% \n  filter(HPI &gt; 0)  \n\n\ncombined_data &lt;- bind_rows(hpi_2006_hist, hpi_2011_hist, hpi_2016_hist, hpi_2021_hist)\nggplot(combined_data, aes(x = HPI)) +\n  geom_histogram(binwidth = 5, fill = \"#4682B4\", color = \"white\", alpha = 0.8, boundary = 0) +\n  facet_wrap(~ Year, ncol = 2) +  \n  theme_minimal(base_size = 12) +\n  \n  theme(\n    panel.grid.major = element_line(color = \"gray85\"),\n    panel.grid.minor = element_blank(),\n    axis.text = element_text(size = 10, color = \"black\"),\n    axis.title = element_text(size = 12, color = \"black\"),\n    plot.title = element_text(size = 14, face = \"bold\", hjust = 0.5)\n  ) +\n  scale_x_continuous(\n    breaks = seq(0, 60, by = 10), \n  ) +\n  labs(\n    title = \"Distribution of Happy Planet Index (HPI) by Year\",\n    x = \"HPI Score\",\n    y = \"Count\"\n  )\n\n\n\n\n\n\n\n\n\nThis plot shows the distribution of HPI scores for year 2006, 2011, 2016, 2021. The year 2006 marks the starting point of the survey, while 2021 represents the most recent data. Rows with HPI scores of 0, which indicate missing values, were excluded from the dataset. The distribution reveals notable variability across the years. In 2006, the distribution appears slightly right-skewed, with a noticeable peak around 30-40. In 2011, the distribution becomes slightly symmetrical, with most scores concentrated between 30 and 50. In 2006, the distribution shifts slightly upward, with a noticeable concentration around 35-50. In 2021, the distribution shifts downward, with most scores falling between 25 and 50. This plot highlights how global well-being has evolved over time.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#continental-view",
    "href": "results.html#continental-view",
    "title": "3  Results",
    "section": "3.3 Continental view",
    "text": "3.3 Continental view\nGrouped by continents, let’s see how each of them perform! To clearly visualize the HPI by continents, we regroup 8 of them to 4 in total.\n\n\nCode\nhpi_2024 &lt;- hpi_2024 %&gt;%\n  mutate(Region_Group = case_when(\n    Continent %in% c(1, 2) ~ \"Americas\",                  # Latin America, N. America & Oceania\n    Continent %in% c(3, 7) ~ \"Europe & Central Asia\",     # Western Europe, Eastern Europe & Central Asia\n    Continent %in% c(4, 6, 8) ~ \"Asia & Middle East\",     # Middle East, South Asia, East Asia\n    Continent == 5 ~ \"Africa\",                            # Africa                                \n  ))\n\nggplot(hpi_2024, aes(\n  x = `Ladder of life (Wellbeing) (0-10)`,\n  y = HPI,                                 \n  color = Region_Group                     \n)) +\n  geom_point(size = 3, alpha = 0.8) +\n  labs(\n    title = \"Happiness Index and Life Expectancy by Region\",\n    subtitle = \"Relationship between HPI and Wellbeing across regions\",\n    x = \"Ladder of life (Wellbeing)\",\n    y = \"Happiness Index\",\n    color = \"Region Group\"\n  ) +\n  scale_color_manual(\n    values = c(\n      \"Americas\" = \"#4682B4\",\n      \"Europe & Central Asia\" = \"#33a02c\",\n      \"Asia & Middle East\" = \"#CC6666\",\n      \"Africa\" = \"#D97D0D\"\n    )\n  ) +\n  # Customize the theme\n  theme_minimal(base_family = \"sans\") +\n  theme(\n    panel.grid.major = element_blank(),\n    panel.grid.minor = element_blank(),\n    panel.background = element_rect(fill = \"#fbfbfb\"),\n    plot.background = element_rect(fill = \"#fbfbfb\"),\n    plot.title = element_text(size = 17, face = \"bold\", color = \"#323232\"),\n    plot.subtitle = element_text(size = 12, face = \"italic\", color = \"gray40\"),\n    axis.title.x = element_text(size = 10, face = \"bold\", color = \"#323232\"),  # Removed `family`\n    axis.title.y = element_text(size = 10, face = \"bold\", color = \"#323232\"),\n    legend.position = \"right\",\n    legend.background = element_blank(),\n    legend.box.background = element_rect(fill = \"transparent\", color = NA)\n  )\n\n\n\n\n\n\n\n\n\nWe can see that Americas and Europe & Central Asia tend to have high HPI and Wellbeing; Asia & Middle East has a wide spread, which shows large variation; and Africa shows obviously low HPI and Wellbeing. From this plot, we can also recognize that there is a strong positive relationship.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#continental-variance",
    "href": "results.html#continental-variance",
    "title": "3  Results",
    "section": "3.4 Continental Variance",
    "text": "3.4 Continental Variance\nTo better understanding the differences between continents, we plot boxplots for all of the 8 continent.\n\n\nCode\nlibrary(RColorBrewer)\ncontinent_mapping &lt;- c(\n  \"Latin America\",\n  \"North America & Oceania\",\n  \"Western Europe\",\n  \"Middle East & North Africa\",\n  \"Africa\",\n  \"South Asia\",\n  \"Eastern Europe & Central Asia\",\n  \"East Asia\"\n)\nhpi_2021$ContinentName &lt;- continent_mapping[hpi_2021$Continent]\nqualitative_palette &lt;- brewer.pal(n = length(unique(hpi_2021$ContinentName)), \"Set3\")\n\nggplot(hpi_2021, aes(x = HPI, y = ContinentName, fill = ContinentName)) +\n  geom_boxplot(width = 0.6, alpha = 0.8) + \n  scale_fill_manual(values = qualitative_palette) + \n  theme_minimal(base_size = 12) +\n  theme(\n    panel.grid.major.y = element_blank(),\n    panel.grid.minor = element_blank(),\n    axis.text.y = element_text(size = 10, color = \"black\"),\n    axis.text.x = element_text(size = 8, color = \"black\"),\n    legend.position = \"none\",\n    panel.border = element_blank(),\n    axis.line = element_blank()\n  ) +\n  labs(\n    title = \"Continental Variance In 2021\",\n    x = \"HPI Score\",\n    y = \"\"\n  )\n\n\n\n\n\n\n\n\n\nThis boxplot illustrates the variance of HPI scores across 8 continents with 2021 ranking. Western Europe, Latin America, and North America & Oceania show higher overall scores and tighter distributions, suggesting consistent well-being. In contrast, Africa and the Middle East & North Africa exhibit wider variability, indicating more significant disparities in well-being within these regions. This analysis emphasizes the importance of regional and local context when addressing global well-being challenges.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#differences-between-happy-and-unhappy-countries",
    "href": "results.html#differences-between-happy-and-unhappy-countries",
    "title": "3  Results",
    "section": "3.5 Differences between happy and unhappy countries",
    "text": "3.5 Differences between happy and unhappy countries\nWe define happy countries if their HPI is higher than the average, otherwise they are unhappy countries. Five variables are included here: population, life expectancy, wellbeing, GDP per capita, and carbon foorprint.\n\n\nCode\nlibrary(gridExtra)\nlibrary(grid) \nlibrary(patchwork)\n#Split Data Based on Average HPI\nhpi_avg &lt;- mean(hpi_2024$HPI, na.rm = TRUE)  # Calculate average HPI\nhpi_2024 &lt;- hpi_2024 %&gt;%\n  mutate(Lower_Happy = ifelse(HPI &lt; hpi_avg, \"Unhappy\", \"Happy\"))  # Add split column\n\nvariables &lt;- c(\n  \"Population (thousands)\",\n  \"Life Expectancy (years)\",\n  \"Ladder of life (Wellbeing) (0-10)\",\n  \"GDP per capita ($)\",\n  \"Carbon Footprint (tCO2e)\"\n)\ntitles &lt;- c(\n  \"Population Distribution\",\n  \"Life Expectancy Distribution\",\n  \"Wellbeing Distribution\",\n  \"GDP per Capita Distribution\",\n  \"Carbon Footprint (tCO2e)\"\n)\n\nplot_list &lt;- lapply(seq_along(variables), function(i) {\n  var &lt;- variables[i]  \n  ggplot(hpi_2024, aes_string(x = paste0(\"`\", var, \"`\"), fill = \"Lower_Happy\")) +\n    geom_density(alpha = 0.7, color = \"black\") +\n    scale_fill_manual(values = c(\"#4682B4\", \"#CC6666\")) +  # Customize colors\n    labs(x = var, y = NULL, fill = \"Group\", title = titles[i]) +  # Add plot title\n    theme_minimal() +\n    theme(\n      axis.text.y = element_blank(),\n      axis.ticks.y = element_blank(),\n      panel.grid.major.x = element_line(color = \"gray\", linetype = \"dotted\"),\n      panel.grid.minor = element_blank(),\n      axis.title.x = element_text(size = 10, face = \"bold\", family = \"monospace\"),\n      plot.title = element_text(size = 10, face = \"bold\", hjust = 0.5),  \n      legend.position = \"bottom\",\n      legend.title = element_text(size = 8, face = \"bold\"), \n      legend.text = element_text(size = 6),  \n      legend.key.size = unit(0.5, \"cm\") \n    )\n})\n\ncombined_plot &lt;- wrap_plots(plot_list, ncol = 3) +\n  plot_layout(guides = \"collect\") +  # Collect a single shared legend\n  plot_annotation(\n    title = \"Differences Between Happy & Unhappy Countries\",\n    subtitle = \"There are large differences, with Life Expectancy and Wellbeing.\",\n    theme = theme(\n      plot.title = element_text(size = 15, face = \"bold\", hjust = 0.5, color = \"#323232\"),\n      plot.subtitle = element_text(size = 12, face = \"italic\", hjust = 0.5, color = \"gray\"),\n      legend.position = \"bottom\"  \n    )\n  )\n\n# Print the final combined plot\nprint(combined_plot)\n\n\n\n\n\n\n\n\n\nFrom the plot, happy countries show remarkable high life expectancy and wellbeing, which is consistent to the trend we explored on the previous plot. Unhappy countries have longer right tails for carbon footprint, which is reasonable since extremely high carbon emission will reduce their quality of life. A great proportion of unhappy countries have extremely low GDP per capita. It is surprising that many unhappy countries have low carbon footprint, but at the same time, some of them have very high carbon footprint. Low carbon foot print may be due to lack of technology in industries, so they do not have many machines working.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#linear-relatinship-between-hpi-and-ladder-of-life",
    "href": "results.html#linear-relatinship-between-hpi-and-ladder-of-life",
    "title": "3  Results",
    "section": "3.6 Linear relatinship between HPI and Ladder of Life",
    "text": "3.6 Linear relatinship between HPI and Ladder of Life\nSince the scatter plot for continents already show the relationship between HPI and wellbeing, now we wan to investigate the relationship bewteen HPI and life expectancy.\n\n\nCode\nhpi_2024 &lt;- hpi_2024 %&gt;%\n  rename(\n    HPI = `HPI`,  # Keep HPI column name\n    Life_Expectancy = `Life Expectancy (years)` \n  ) %&gt;%\n  mutate(\n    HPI = as.numeric(HPI), \n    Life_Expectancy = as.numeric(Life_Expectancy)\n  )\n\n# Remove rows with missing data\nhpi_clean &lt;- hpi_2024 %&gt;%\n  filter(!is.na(HPI), !is.na(Life_Expectancy))\n\nmodel &lt;- lm(HPI ~ Life_Expectancy, data = hpi_clean)\n\nggplot(hpi_clean, aes(x = Life_Expectancy, y = HPI)) +\n  geom_point(color = \"blue\", alpha = 0.6) +\n  geom_smooth(method = \"lm\", color = \"red\", se = TRUE) +\n  labs(\n    title = \"Relationship Between HPI and Life Expectancy\",\n    x = \"Life Expectancy (years)\",\n    y = \"HPI\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThe linear regression analysis indicates a significant positive relationship between Life Expectancy and Happiness Index (HPI). The regression coefficient for Life Expectancy is 0.812, meaning that for every additional year of life expectancy, the HPI is expected to increase by approximately 0.81 points. The results highlight that Life Expectancy is a significant contributor of HPI.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#see-how-random-countries-vary-across-years",
    "href": "results.html#see-how-random-countries-vary-across-years",
    "title": "3  Results",
    "section": "3.7 See how random countries vary across years",
    "text": "3.7 See how random countries vary across years\nHere 8 randomly picked countries are plotted for their HPI in 2006 and 2021. Countries with missing value for HPI are removed for a better visualization. We want to see what pattern we can learn.\n\n\nCode\n# Randomly sample 8 countries\nset.seed(809)\nsample &lt;- past_HPI %&gt;%\n  filter(`2006` != 0, `2021` != 0) %&gt;%  # Exclude countries with HPI of 0 for 2006 or 2021\n  slice_sample(n = 8) %&gt;%\n  select(Country, `2006`, `2021`)\n\n\ncountries_2006 &lt;- sample %&gt;%\n  group_by(`2006`) %&gt;%\n  summarize(Country = paste(Country, collapse = \", \"))\n\ncountries_2021 &lt;- sample %&gt;%\n  group_by(`2021`) %&gt;%\n  summarize(Country = paste(Country, collapse = \", \"))\n\nsample_long &lt;- sample %&gt;%\n  pivot_longer(cols = c(`2006`, `2021`), names_to = \"Year\", values_to = \"HPI\") %&gt;%\n  mutate(Year = as.numeric(Year))\n\noptions(repr.plot.width = 15, repr.plot.height = 8) \nggplot() +\n  geom_vline(xintercept = c(1, 2), color = \"black\", linetype = \"dotted\", size = 0.5) +\n  geom_segment(data = sample, aes(\n    x = 1, xend = 2, y = `2006`, yend = `2021`, color = ifelse(`2021` &gt; `2006`, \"#1f78b4\", \"#e31a1c\")\n  ), size = 1) +\n  \n  geom_point(data = sample, aes(\n    x = 1, y = `2006`, color = ifelse(`2021` &gt; `2006`, \"#1f78b4\", \"#e31a1c\")\n  ), size = 4) +\n\n  geom_point(data = sample, aes(\n    x = 2, y = `2021`, color = ifelse(`2021` &gt; `2006`, \"#1f78b4\", \"#e31a1c\")\n  ), size = 4) +\n \n  geom_text(data = countries_2006, aes(\n    x = 1 - 0.05, y = `2006`, label = Country\n  ), hjust = \"right\", size = 2.5) +\n  \n  geom_text(data = countries_2021, aes(\n    x = 2 + 0.05, y = `2021`, label = Country\n  ), hjust = \"left\", size = 2.5) +\n \n  labs(\n    title = \"Happiness Index Scores: 2006 vs 2021\",\n    subtitle = \"Random sample of countries showing HPI changes between 2006 and 2021\",\n    x = NULL,\n    y = \"HPI\"  \n  ) +\n\n  scale_color_identity() +\n  scale_x_continuous(limits = c(0.5, 2.5),breaks = c(1, 2), labels = c(\"2006\", \"2021\")) +\n  scale_y_continuous(limits = c(min(sample_long$HPI) , max(sample_long$HPI))) + \n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 20, face = \"bold\", hjust = 0.5),\n    plot.subtitle = element_text(size = 14, hjust = 0.5),\n    axis.text.y = element_text(size = 12),\n    axis.text.x = element_text(size = 12, face = \"bold\"),\n    axis.ticks = element_blank(),\n    panel.grid = element_blank(),\n    legend.position = \"none\"\n  )\n\n\n\n\n\n\n\n\n\nCountries like Nicaragua show significant improvement, with the highest increase in HPI, indicating progress in happiness. Nepal, and Sri Lanka remain relatively stable, indicating limited change. On the other hand, Rwanda and Kazakhstan show noticeable declines in HPI, reflecting potential challenges in maintaining life satisfaction.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#whats-biggest-movers",
    "href": "results.html#whats-biggest-movers",
    "title": "3  Results",
    "section": "3.8 What’s biggest movers?",
    "text": "3.8 What’s biggest movers?\n\n\nCode\n# Filter the top 20 biggest movers\ntop_20 &lt;- past_HPI %&gt;%\n  filter(`2006` != 0, `2021` != 0) %&gt;%\n  mutate(Change = abs(`2021` - `2006`)) %&gt;%\n  arrange(desc(Change)) %&gt;%\n  slice(1:20) \n\ntop_20 &lt;- top_20 %&gt;%\n  mutate(Highlight = ifelse(row_number() &lt;= 3, \"Top Increase\", \n                            ifelse(row_number() &gt; (n() - 3), \"Top Decrease\", \"Neutral\")))\n\n\nplot_data &lt;- top_20 %&gt;%\n  pivot_longer(cols = c(`2006`, `2021`), names_to = \"Year\", values_to = \"HPI\") %&gt;%\n  mutate(Year = as.numeric(Year))\n\nlow_c &lt;- \"#CC6666\"\nhigh_c &lt;- \"#33a02c\" \nneutral_c &lt;- \"#e7e9e7\"\n\n\nggplot(top_20, aes(x = reorder(Country, Change), y = Change, fill = Highlight)) +\n  geom_bar(stat = \"identity\", alpha = 0.7) +\n  scale_fill_manual(values = c(\"Top Increase\" = high_c, \"Top Decrease\" = low_c, \"Neutral\" = neutral_c)) +\n  theme_minimal(base_family = \"sans\") +\n  theme(\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1, size = 8),\n    axis.text.y = element_text(size = 8),\n    panel.grid = element_blank(),\n    panel.background = element_rect(fill = \"#fafafa\", color = NA),\n    plot.background = element_rect(fill = \"#fafafa\", color = NA),\n    legend.position = \"none\"\n  ) +\n  labs(\n    title = \"The Biggest Movers\",\n    subtitle = \"These countries have had the largest change in HPI between 2006 and 2021\"\n   \n  )\n\n\n\n\n\n\n\n\n\nThis bar chart displays the top 20 countries with the largest changes in their Happy Planet Index (HPI) between 2006 and 2021, with green bars representing increases and red bars representing decreases. The countries with the most significant positive changes include Lebanon, Nicaragua, and India, while the most substantial negative changes are observed in Latvia, Benin, and Uzbekistan. From this plot, we can clearly see that HPI movements can vary a lot for different countries.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#other-factors",
    "href": "results.html#other-factors",
    "title": "3  Results",
    "section": "3.9 Other factors",
    "text": "3.9 Other factors\n\n\nCode\nhpi_2024 &lt;- hpi_2024 %&gt;%\n  mutate(\n    Above_CO2_Threshold = ifelse(\n      `Carbon Footprint (tCO2e)` &gt; `CO2 threshold for year  (tCO2e)`, 1, 0\n    )\n  )\n\n\nheatmap_data &lt;- hpi_2024 %&gt;%\n  select(\n    HPI,\n    Population = `Population (thousands)`,\n    Life_Expectancy,\n    Ladder_of_Life = `Ladder of life (Wellbeing) (0-10)`,\n    GDP_per_capita = `GDP per capita ($)`,\n    Above_CO2_Threshold\n  )\n\n# Ensure numeric columns for correlation (convert boolean if needed)\nheatmap_data$Above_CO2_Threshold &lt;- as.numeric(heatmap_data$Above_CO2_Threshold)\n\n# Compute the correlation matrix\ncor_matrix &lt;- cor(heatmap_data, use = \"complete.obs\")\n\n# Melt the correlation matrix for ggplot\nmelted_cor_matrix &lt;- melt(cor_matrix)\n\n# Create the heatmap\nggplot(data = melted_cor_matrix, aes(x = Var1, y = Var2, fill = value)) +\n  geom_tile(color = \"white\") +\n  geom_text(aes(label = round(value, 2)), color = \"black\", size = 3) +  # Add correlation values\n  scale_fill_gradient(low = \"white\", high = \"#8C2B3D\", name = \"Correlation\") +\n  labs(\n    title = \"Heatmap of HPI and Selected Variables\",\n    x = \"Variables\",\n    y = \"Variables\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1),\n    axis.title = element_text(size = 12, face = \"bold\"),\n    plot.title = element_text(size = 14, face = \"bold\", hjust = 0.5)\n  )\n\n\n\n\n\n\n\n\n\nThe heatmap highlights that subjective well-being (Ladder of Life) and Life Expectancy are the strongest predictors of HPI, underscoring the importance of health and perceived quality of life in fostering happiness. Economic factors, while relevant, play a secondary role, and ecological sustainability (Above CO2 Threshold) moderately supports happiness.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#pca-analysis-of-wellbeing-life-expectancy-and-the-happy-planet-index",
    "href": "results.html#pca-analysis-of-wellbeing-life-expectancy-and-the-happy-planet-index",
    "title": "3  Results",
    "section": "3.10 PCA Analysis of Wellbeing, Life Expectancy, and the Happy Planet Index",
    "text": "3.10 PCA Analysis of Wellbeing, Life Expectancy, and the Happy Planet Index\nSince we already kniw that ladder of life and life expectancy are the top two factors contributing to higher HPI, now we will explore further.\n\n\nCode\npca_data &lt;- hpi_2024 %&gt;%\n  select(\n    Ladder_of_Life = `Ladder of life (Wellbeing) (0-10)`,\n    Life_Expectancy,\n    HPI\n  ) %&gt;%\n  drop_na()  # Remove rows with missing values\n\n# Standardize the data\npca_scaled &lt;- scale(pca_data)\n\n# Perform PCA\npca_result &lt;- prcomp(pca_scaled, center = TRUE, scale. = TRUE)\n\n# Extract PCA scores (for points)\npca_scores &lt;- as.data.frame(pca_result$x)\npca_scores &lt;- pca_scores %&gt;%\n  mutate(HPI = pca_data$HPI)  # Add HPI back for context in visualization\n\n# Extract PCA loadings (for vectors)\npca_loadings &lt;- as.data.frame(pca_result$rotation)\npca_loadings &lt;- pca_loadings %&gt;%\n  rownames_to_column(var = \"Variable\")\n\n# Visualize PCA with points and vectors\nggplot() +\n  # Plot PCA scores (observations)\n  geom_point(data = pca_scores, aes(x = PC1, y = PC2, color = HPI), size = 4, alpha = 0.7) +\n  scale_color_gradient(low = \"blue\", high = \"red\", name = \"HPI\") +\n  # Plot PCA loadings (vectors)\n  geom_segment(data = pca_loadings, aes(\n    x = 0, y = 0, xend = PC1 * 5, yend = PC2 * 5  # Scale vectors for visibility\n  ), arrow = arrow(length = unit(0.2, \"cm\")), color = \"black\") +\n  geom_text_repel(data = pca_loadings, aes(\n    x = PC1 * 5, y = PC2 * 5, label = Variable\n  ), size = 5, color = \"black\") +\n  # Add titles and labels\n  labs(\n    title = \"PCA Biplot: Ladder of Life and Life Expectancy\",\n    x = \"PC1 (Ladder of Life)\",\n    y = \"PC2 (Life Expectancy)\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(size = 16, face = \"bold\", hjust = 0.5),\n    axis.title = element_text(size = 12, face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\nThe PCA biplot illustrates the relationship between the “Ladder of Life” (PC1), “Life Expectancy” (PC2), and the Happy Planet Index (HPI). PC1 explains the variability primarily associated with subjective life wellbeing, while PC2 explains variability related to life expectancy. The arrows indicate that “Ladder of Life” and “Life Expectancy” contribute significantly to these components, with “HPI” showing a positive correlation with both. Countries with higher HPI values (red dots) tend to cluster around higher values of PC1 and PC2, suggesting that life satisfaction and life expectancy positively contribute to the HPI. Conversely, countries with low HPI values (blue dots) show lower PC1 and PC2 scores, reflecting poorer outcomes in these dimensions.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "conclusion.html",
    "href": "conclusion.html",
    "title": "5  Conclusion",
    "section": "",
    "text": "This result suggests that economic factors or material circumstances is not the only priority for a country even though many traditional ideas support it. For better human-being, there are other more important indicators we need to care about",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Conclusion</span>"
=======
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive graph",
    "section": "",
    "text": "Global Happiness Map Throughout Years\n\n\nThis map illustrates the Happy Planet Index (HPI) scores across different countries from 2006 to 2021. Scroll the bar below the map to change years. The darker the color indicates a higher HPI score.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Interactive graph</span>"
>>>>>>> 58df64aabbd27501d8e707824f4591e9b95a5007
    ]
  }
]